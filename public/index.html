<!DOCTYPE html>
<html>
<!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><head>-->

<head>
  <title>Doodle Duo</title>

  <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
  <link rel="manifest" href="favicon/site.webmanifest">

  <!-- UIkit CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.6.17/dist/css/uikit.min.css" />
  <!--  Custom CSS     -->
  <link rel="stylesheet" href="./main.css" />

  <!-- UIkit JS -->
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.17/dist/js/uikit.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.17/dist/js/uikit-icons.min.js"></script>

  <script src="./javascript/colorPicker.js" defer></script>
  <script src="./javascript/canvas.js" defer></script>
</head>


<body>
  <svg style="position: absolute; width: 0; height: 0; overflow: hidden" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <symbol id="icon-paintbrush" viewBox="0 0 20 20">
        <path
          d="M1.384 16.647c0 0-0.675 2.080-1.384 2.807 0 0 0.212 0.224 0.758 0.544 0 0 1.402-1.449 2.155-1.963 0 0.001-0.217-1.692-1.528-1.388z">
        </path>
        <path
          d="M18.988 2.545c-2.452-4.682-6.469-1.471-6.469-1.471 5.353 1.57 4.618 8.168 4.618 8.168 4.135-2.452 1.851-6.697 1.851-6.697z">
        </path>
        <path
          d="M8.832 12.031c1.27-1.632 7.594-5.629 7.602-5.634-0.274-0.744-0.592-1.355-0.933-1.858-1.752 0.738-8.301 6.189-8.301 6.189 2.329-3.11 7.583-7.055 7.592-7.061-1.702-1.73-3.61-1.417-3.61-1.417-3.204 2.925-7.31 7.898-8.855 9.809-0.195 0.223-0.404 0.483-0.627 0.781 0 0 1.788-1.477 2.372-0.756 0.585 0.722 0.412 2.166 0.412 2.166s1.169-1.477 1.857-0.722c0.687 0.756 0.24 1.788 0 2.062 0 0 0.996-0.997 1.203-0.618 0.206 0.378 0.034 1.237-0.585 2.027 0 0 0.114-0.132 0.273-0.336 4.732-5.805 9.907-7.419 9.907-7.419-0.104-0.685-0.236-1.303-0.389-1.862-2.36 0.969-7.917 4.651-7.917 4.651z">
        </path>
        <path
          d="M7.148 15.589c-0.035-0.274-0.808 0-0.808 0 0.12-0.274-0.052-1.013-0.378-1.425s-1.478 0.086-1.478 0.086c0-0.345-0.464-1.22-0.979-1.581-0.514-0.36-1.805 0.172-1.805 0.172 0.224 1.942-0.316 3.808-0.316 3.808 2.736-1.033 1.528 1.39 1.528 1.39 1.805-1.064 4.046-1.039 4.046-1.039 0.516-0.878 0.19-1.41 0.19-1.41z">
        </path>
      </symbol>
      <symbol id="icon-fill" viewBox="0 0 28.873 32">
        <path
          d="M28.81,21.28c0,0-0.66-8.218-6.886-5.791l0,0c-2.291-2.095-5.796-5.265-8.114-7.199c-0.21-3.544-1.158-8.738-4.943-8.26
        C2.614,0.821,6.214,12.227,6.214,12.227l0.011-0.013c-3.067,3.628-6.31,7.784-6.223,8.393c1.108,7.678,10.13,12.029,12.663,11.316
        c0.624-0.176,6.553-7.805,9.665-11.854c-0.097,0.865-0.229,1.853-0.406,2.808c-0.354,1.927,0.106,4.644,3.377,4.644
        C29.642,27.519,28.81,21.28,28.81,21.28z M8.55,2.246c2.516-0.898,3.436,2.093,3.762,4.848c-0.433-0.321-0.73-0.505-0.834-0.495
        C11.165,6.63,9.29,8.644,7.143,11.138C7.142,11.134,5.38,3.378,8.55,2.246z M13.077,14.704c-1.121,0.402-2.306-0.035-2.645-0.979
        c-0.34-0.943,0.296-2.035,1.417-2.438c1.122-0.403,2.307,0.034,2.645,0.978C14.834,13.209,14.198,14.301,13.077,14.704z" />
      </symbol>
      <symbol id="icon-undo" viewBox="0 0 20 19">
        <path
          d="M11.864 16.206c-3.311 1.617-7.112 0.638-8.491-2.185-1.281-2.623-0.021-5.912 2.815-7.664 0.926 1.626 1.742 2.93 1.919 2.93 0.459 0 3.172-6.964 3.044-7.477s-7.839-2.136-8.074-1.752c-0.089 0.146 0.559 1.532 1.417 3.184-4.014 2.657-5.646 7.684-3.628 11.814 2.211 4.522 7.956 6.257 12.837 3.873 0.944-0.461 1.783-1.043 2.512-1.714l-2.049-2.731c-0.621 0.683-1.394 1.277-2.301 1.72z">
        </path>
        <path
          d="M15.811 11.077c-0.082 0.596-0.263 1.186-0.531 1.752l2.574 2.45c0.608-0.935 1.049-1.957 1.3-3.012l-3.343-1.189z">
        </path>
      </symbol>
      <symbol id="icon-clear" viewBox="0 0 28.873 32">
        <path
          d="M24.752,3.076C24.296,2.43,20.25,2.283,15.58,2.424c0.092-0.661,0.243-2.061-0.051-2.333
        c-0.389-0.36-5.514,0.436-5.812,0.908C9.52,1.317,9.589,2.192,9.655,2.733c-4.782,0.351-8.934,0.91-9.284,1.455
        c-0.834,1.298,0,3.894,0,3.894s6.984-0.495,11.774-0.464c4.789,0.031,12.606,0.464,12.606,0.464S25.864,4.652,24.752,3.076z" />
        <path d="M22.744,10.06c-0.495-0.556-19.405-0.494-19.9,0c-0.446,0.446-0.59,16.514,0.021,20.258c0,0,0.037,1.002,0.586,1.471
        C4,32.255,22.803,31.91,23.201,31.164c0.142-0.264,0.229-0.535,0.291-0.789c0.031-0.062,0.057-0.195,0.076-0.393
        c0.054-0.361,0.045-0.621,0.045-0.621C23.805,25.257,23.178,10.549,22.744,10.06z M4.92,30.425
        c-0.066-4.072-0.229-15.387,0.024-15.792c0.31-0.494,2.658-0.371,2.968,0c0.243,0.293,0.449,11.279,0.524,15.871
        C7.045,30.494,5.846,30.46,4.92,30.425z M11.454,30.496c-0.1-4.01-0.354-15.456,0.036-15.863c0.474-0.494,3.162-0.371,3.636,0
        c0.367,0.289,0.679,10.938,0.799,15.65C14.023,30.412,13.107,30.475,11.454,30.496z M18.271,30.091
        c-0.069-4.325-0.217-15.063,0.03-15.458c0.31-0.494,2.657-0.371,2.968,0c0.229,0.276,0.426,10.068,0.51,15.031
        C20.611,29.837,19.438,29.978,18.271,30.091z" />
      </symbol>
      <symbol id="size-small" viewBox="0 0 20 20">
        <circle cx=10 cy=10 r=4 />
      </symbol>
      <symbol id="size-medium" viewBox="0 0 20 20">
        <circle cx=10 cy=10 r=6 />
      </symbol>
      <symbol id="size-large" viewBox="0 0 20 20">
        <circle cx=10 cy=10 r=8 />
      </symbol>
    </defs>
  </svg>

  <!-- Background Color-->
  <script>
    function setBackground() {
      return "hsla(" + ~~(360 * Math.random()) + "," + "100%," + "93%,1)"
    }

    document.body.style.backgroundColor = setBackground()
  </script>

  <!-- Landing Screen-->

  <div id='initial-screen'>

    <!-- Background Image Render [currently not working b/c we're using the changing background]-->
    <div class="uk-height-viewport uk-flex uk-flex-column uk-background-cover uk-padding-remove">

      <!-- TODO: When Desktop mode written, replace below non-commented line with:  <div class="uk-hidden@s uk-height-viewport uk-width-1-1" style=height:100vh>-->
      <div class="uk-height-viewport uk-width-1-1" style=height:100vh>

        <!-- NavBar-like Top Of Window-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:4vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-padding-remove" uk-grid>
            <div class="uk-width-auto uk-position-top-left uk-padding-remove">
              <div class="uk-card uk-padding-small uk-padding-remove-vertical" style=height:4vh>
                <!-- <a class="uk-link-muted" onClick="howToPlayClicked()"
                  style="font-size: 16px;text-decoration:underline;font-weight:bold;"> How To Play</a> -->
              </div>
            </div>
          </div>
        </div>


        <!-- Title Section-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:15vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <img data-src="editedTitle.png" style="height:15vh; width:80vw;max-width:340px" uk-img>
            </div>
          </div>
        </div>

        <!-- Central Image-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:40vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <img data-src="homeImage.jpeg" style="height:30vh;width:80vw;max-width:640px" uk-img>
            </div>
          </div>
        </div>

        <!-- Name Box Field-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:12vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove uk-flex-center uk-flex-middle">
              <div class="uk-margin">
                <div class="uk-card" style="height:1vh"></div>
                <input class="uk-input" type="text" placeholder="Enter Player Name" id='nameInput'
                  style="text-align:center">
              </div>
            </div>
          </div>
        </div>

        <!-- Remaining Forms -->
        <div class="uk-section uk-width-1-1 uk-padding-remove uk-text-center" style=height:29vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>

            <!-- Join Lobby field+button-->
            <div class="uk-width-auto uk-padding-remove uk-flex-center uk-flex-middle">
              <div class="uk-card uk-background-muted uk-border-rounded"
                style="height:20vh;width:40vw;text-align:center;max-width:340px">
                <p style="font-size: 16px;"> Join A Lobby </p>
                <div class="uk-margin" uk-margin>
                  <input class="uk-input" type="text" placeholder="Room Code" id='roomIdInput'
                    style="width:37vw;font-size:15px;height:5vh;text-align:center;max-width:320px">
                  <button class="uk-button uk-button-primary" onclick="joinButtonClicked()"
                    style="width:37vw;font-size:15px;height:5vh;text-transform:none;text-align:center;max-width:320px">Join</button>
                </div>
              </div>
            </div>

            <!-- Create Lobby button-->
            <div class="uk-width-auto">
              <div class="uk-card uk-background-muted uk-border-rounded"
                style="height:20vh;width:40vw;text-align:center;max-width:340px">
                <p style="font-size: 16px;"> Create A Lobby </p>

                <!-- Spacer box becuase I couldn't figure out how to push the button down without manually moving it like this-->
                <div class="uk-card" style="height:3vh;width:40vw"></div>
                <div class="uk-margin" uk-margin>
                  <button class="uk-button uk-button-primary"
                    style="width:37vw;font-size:15px;height:5vh;text-transform:none;max-width:320px"
                    onclick="createButtonClicked()">Create</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- WAITING ROOM HOST -->
  <div id='waiting-room-host' style="display:none">
    <!-- Background Image Render [currently not working b/c we're using the changing background]-->
    <div class="uk-height-viewport uk-flex uk-flex-column uk-background-cover uk-padding-remove">

      <!-- TODO: When Desktop mode written, replace below non-commented line with:  <div class="uk-hidden@s uk-height-viewport uk-width-1-1" style=height:100vh>-->
      <div class="uk-height-viewport uk-width-1-1" style=height:100vh>

        <!-- NavBar-like Top Of Window-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:4vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-padding-remove" uk-grid>
            <div class="uk-width-auto uk-position-top-left uk-padding-remove">
              <div class="uk-card uk-padding-small uk-padding-remove-vertical" style=height:4vh>
                <a class="uk-link-muted" onClick="backHome()"
                  style="font-size: 16px;text-decoration:underline; font-weight:bold;"> Leave Lobby </a>
              </div>
            </div>
          </div>
        </div>


        <!-- Title Section-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:15vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <img data-src="editedTitle.png" style="height:15vh; width:80vw;max-width:340px" uk-img>
            </div>
          </div>
        </div>


        <!-- ID Section-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:20vh>
          <div
            class="uk-padding-remove uk-height-1-1 uk-marging-remove uk-flex uk-flex-column uk-flex-column uk-flex-middle">
            <div class="uk-width-auto uk-padding-remove" style=height:20vh>
              <div class="uk-section uk-width-expand uk-text-center uk-padding-remove"
                style="height:10vh;width:80vw;max-width:680px">
                <!-- Spacer box becuase I couldn't figure out how to push the button down without manually moving it like this-->
                <div class="uk-card" style="height:1vh;width:40vw"></div>
                <p style="font-size:24px"> Your Room Code Is</p>
              </div>
              <div class="uk-section uk-width-expand uk-text-center uk-padding-remove"
                style="height:10vh;width:80vw;max-width:680px">
                <input id="gameCodeDisplay" readonly="readonly" class="uk-input"
                  style="width:40vw;max-width:340px;text-align:center"></input>
                <button class="uk-button uk-button-primary uk-button-small" id="copy-room-code" onclick="copyLobbyId()"
                  style="width:30vw;height:40px;font-size:14px;text-transform:none;text-align:center;max-width:120px">Click
                  to copy</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Players Title + Spacer -->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:5vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <div class="uk-section uk-padding-remove uk-width-expand uk-text-center"
                style="height:5vh;width:80vw;max-width:680px">
                <p style="font-size:24px;"> Players:</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Current Players Box (Currently, only two text boxes)-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:15vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-card uk-padding-remove uk-text-center" style="height:15vh;width:30vw;max-width:680px">
              <p id='playerJoin2' style="font-size:16px;"></p>
            </div>
          </div>
        </div>


        <!-- Settings Title + Spacer -->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:7vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <div class="uk-section uk-padding-remove uk-width-expand uk-text-center"
                style="height:5vh;width:80vw;max-width:680px">
                <p style="font-size:24px;"> Settings:</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Forms -->

        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:20vh>

          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" style=height:6vh
            uk-grid>
            <div class="uk-card uk-padding-remove uk-text-center uk-text-middle"
              style="height:5vh;width:35vw;max-width:680px">
              <p class="uk-padding-remove uk-text-center uk-text-middle" style="font-size:15px;"> Number of Rounds:</p>
            </div>
            <div class="uk-card uk-padding-remove uk-text-center uk-text-middle"
              style="height:5vh;width:10vw;max-width:680px"> </div>
            <input type='text' value='6' id='RoundInput'
              class="uk-input uk-padding-remove uk-text-middle uk-text-center" style="width:13vw" />
          </div>

          <div class="uk-padding-remove-vertical uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle"
            style=height:6vh uk-grid>
            <div class="uk-card uk-padding-remove uk-text-center uk-text-middle"
              style="height:5vh;width:35vw;max-width:680px">
              <p style="font-size:15px;"> Round Timer (Sec):</p>
            </div>
            <div class="uk-card uk-padding-remove uk-text -center uk-text-middle"
              style="height:5vh;width:10vw;max-width:680px"> </div>
            <input type='text' value='120' id='RoundTimerInput'
              class="uk-input uk-padding-remove uk-text-middle uk-text-center" style="width:13vw" />
          </div>

        </div>

        <!-- Start Game Button -->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:5vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <div class="uk-section uk-padding-remove uk-width-expand uk-text-center"
                style="height:5vh;width:80vw;max-width:680px">
                <button onclick='startGameButtonClicked()' class="uk-button uk-button-primary"
                  style="width:37vw;font-size:16px;height:10vh;text-transform:none;text-align:center;max-width:320px">Start
                  Game</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



  <!-- ####### -->

  <!-- How To Play Screen-->

  <div id='how-to-play-screen' style="display:none">

    <!-- Background Image Render [currently not working b/c we're using the changing background]-->
    <div class="uk-height-viewport uk-flex uk-flex-column uk-background-cover uk-padding-remove">

      <!-- TODO: When Desktop mode written, replace below non-commented line with:  <div class="uk-hidden@s uk-height-viewport uk-width-1-1" style=height:100vh>-->
      <div class="uk-height-viewport uk-width-1-1" style=height:100vh>

        <!-- NavBar-like Top Of Window-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:4vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-padding-remove" uk-grid>
            <div class="uk-width-auto uk-position-top-left uk-padding-remove">
              <div class="uk-card uk-padding-small uk-padding-remove-vertical" style=height:4vh>
                <a class="uk-link-muted" onClick="backHome()"
                  style="font-size: 16px;text-decoration:underline;font-weight:bold;"> Back to Home </a>
              </div>
            </div>
          </div>
        </div>


        <!-- Title Section-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:15vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <img data-src="editedTitle.png" style="height:15vh; width:80vw;max-width:340px" uk-img>
            </div>
          </div>
        </div>

        <!-- Central Image-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:10vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <div class="uk-section uk-section-secondary uk-width-expand uk-text-center"
                style="height:30vh;width:80vw;max-width:680px">
                <p style="font-size:36px"> [page wip]</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Name Box Field-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:12vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove uk-flex-center uk-flex-middle">
              <div class="uk-margin">
                <div class="uk-card" style="height:1vh"></div>
                <input class="uk-input" type="text" placeholder="Enter Player Name" id='nameInput'
                  style="text-align:center">
              </div>
            </div>
          </div>
        </div>

        <!-- Remaining Forms -->
        <div class="uk-section uk-width-1-1 uk-padding-remove uk-text-center" style=height:29vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>

            <!-- Join Lobby field+button-->
            <div class="uk-width-auto uk-padding-remove uk-flex-center uk-flex-middle">
              <div class="uk-card uk-background-muted uk-border-rounded"
                style="height:20vh;width:40vw;text-align:center;max-width:340px">
                <p style="font-size: 16px;"> Join A Lobby </p>
                <div class="uk-margin" uk-margin>
                  <input class="uk-input" type="text" placeholder="Room Code" id='roomIdInput'
                    style="width:37vw;font-size:15px;height:5vh;text-align:center;max-width:320px">
                  <button class="uk-button uk-button-primary" onclick="joinButtonClicked()"
                    style="width:37vw;font-size:15px;height:5vh;text-transform:none;text-align:center;max-width:320px">Join</button>
                </div>
              </div>
            </div>

            <!-- Create Lobby button-->
            <div class="uk-width-auto">
              <div class="uk-card uk-background-muted uk-border-rounded"
                style="height:20vh;width:40vw;text-align:center;max-width:340px">
                <p style="font-size: 16px;"> Create A Lobby </p>

                <!-- Spacer box becuase I couldn't figure out how to push the button down without manually moving it like this-->
                <div class="uk-card" style="height:3vh;width:40vw"></div>
                <div class="uk-margin" uk-margin>
                  <button class="uk-button uk-button-primary"
                    style="width:37vw;font-size:15px;height:5vh;text-transform:none;max-width:320px"
                    onclick="createButtonClicked()">Create</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ####### -->




  <!-- WAITING ROOM -->
  <div id='waiting-room-player' style="display:none">
    <!-- Background Image Render [currently not working b/c we're using the changing background]-->
    <div class="uk-height-viewport uk-flex uk-flex-column uk-background-cover uk-padding-remove">

      <!-- TODO: When Desktop mode written, replace below non-commented line with:  <div class="uk-hidden@s uk-height-viewport uk-width-1-1" style=height:100vh>-->
      <div class="uk-height-viewport uk-width-1-1" style=height:100vh>

        <!-- NavBar-like Top Of Window-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:4vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-padding-remove" uk-grid>
            <div class="uk-width-auto uk-position-top-left uk-padding-remove">
              <div class="uk-card uk-padding-small uk-padding-remove-vertical" style=height:4vh>
                <a class="uk-link-muted" onClick="backHome()"
                  style="font-size: 16px;text-decoration:underline;font-weight:bold;"> Leave Lobby </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Title Section-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:15vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <img data-src="editedTitle.png" style="height:15vh; width:80vw;max-width:340px" uk-img>
            </div>
          </div>
        </div>

        <!-- ID Section-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:20vh>
          <div
            class="uk-padding-remove uk-height-1-1 uk-marging-remove uk-flex uk-flex-column uk-flex-column uk-flex-middle">
            <div class="uk-width-auto uk-padding-remove" style=height:20vh>
              <div class="uk-section uk-width-expand uk-text-center uk-padding-remove"
                style="height:10vh;width:80vw;max-width:680px">
                <!-- Spacer box becuase I couldn't figure out how to push the button down without manually moving it like this-->
                <div class="uk-card" style="height:1vh;width:40vw"></div>

                <p style="font-size:24px"> Your Room Code Is</p>
                <p id='displayRoom' style='font-size:24px'></p>

              </div>
              <div class="uk-section uk-width-expand uk-text-center uk-padding-remove"
                style="height:10vh;width:80vw;max-width:680px">
                <!-- 
          <input id="gameCodeDisplay" readonly="readonly"class="uk-input" style="width:40vw;max-width:340px;text-align:center"></input>
          <button class="uk-button uk-button-primary uk-button-small" id="copy-room-code" onclick="copyLobbyId()" style="width:30vw;height:40px;font-size:14px;text-transform:none;text-align:center;max-width:120px">Click to copy</button>
          -->
              </div>
            </div>
          </div>
        </div>

        <!-- Players Title + Spacer -->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:5vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <div class="uk-section uk-padding-remove uk-width-expand uk-text-center"
                style="height:5vh;width:80vw;max-width:680px">
                <p style="font-size:24px;"> Players:</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Current Players Box (Currently, only two text boxes)-->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:15vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-card uk-padding-remove uk-text-center" style="height:15vh;width:30vw;max-width:680px">
              <p id='playerJoin' style="font-size:16px;"></p>
            </div>
          </div>
        </div>


        <!-- Unnecesarilly Elaborate Spacers [Skeleton Code From Host Room w/o anything showing] -->
        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:7vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <div class="uk-section uk-padding-remove uk-width-expand uk-text-center"
                style="height:5vh;width:80vw;max-width:680px">

              </div>
            </div>
          </div>
        </div>

        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:20vh>

          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" style=height:6vh
            uk-grid>
            <div class="uk-card uk-padding-remove uk-text-center uk-text-middle"
              style="height:5vh;width:35vw;max-width:680px">
            </div>
            <div class="uk-card uk-padding-remove uk-text-center uk-text-middle"
              style="height:5vh;width:10vw;max-width:680px"> </div>
          </div>

          <div class="uk-padding-remove-vertical uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle"
            style=height:6vh uk-grid>
            <div class="uk-card uk-padding-remove uk-text-center uk-text-middle"
              style="height:5vh;width:35vw;max-width:680px">
            </div>
            <div class="uk-card uk-padding-remove uk-text-center uk-text-middle"
              style="height:5vh;width:10vw;max-width:680px"> </div>
          </div>

        </div>

        <!-- Start Game Button -->

        <div class="uk-section uk-width-1-1 uk-padding-remove" style=height:5vh>
          <div class="uk-padding-remove uk-height-1-1 uk-margin-remove uk-flex-center uk-flex-middle" uk-grid>
            <div class="uk-width-auto uk-padding-remove">
              <div class="uk-section uk-padding-remove uk-width-expand uk-text-center"
                style="height:5vh;width:80vw;max-width:680px">
                <p style="font-size:20px;"> Waiting On Host To Start Game</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id='example' style="display:none">
    <h3>Example</h3>
  </div>

  <div id="guesser-view" style="display: none">
    <div class="guesser-view">
      <div class="title">
        <img class="titleImage" src="title.png">
      </div>
      <div id="guesserCanvas1" class="center-content gv-canvas gv-canvas-left">
        <canvas class="canvas-style" id="guesscanvas-1" width="200" height="400"></canvas>
        <div id="nameDrawing1" class="uk-text-center">Doodler 1</div>
      </div>
      <div id="guesserCanvas2" class="center-content gv-canvas gv-canvas-right">
        <canvas class="canvas-style" id="guesscanvas-2" width="200" height="400"></canvas>
        <div id="nameDrawing2" class="uk-text-center">Doodler 2</div>
      </div>
      <div id="gv-info">
        <div class="players-container">
          <b>Current Players</b>
          <table id='players-table'>
            <tr>
              <th>Player</th>
              <th>Score</th>
            </tr>
            <tbody id='pbody'>
            </tbody>
          </table>
        </div>
        <div class="guesserWordSpaces">
          <span class="center-content" id="spacesDisplay">_</span>
        </div>
        <div class="timeDisplay">
          <div id="timeRemaining">Time Remaining:</div>
          <span id="gameTimeDisplay"></span>
        </div>
      </div>
      <div class="chat-box-gv">
        <div class="chat-box-container">
          <div id="chat-box-guesser-wrapper">
            <ul id="chat-box-guesser" class="chat-box"></ul>
          </div>
          <div class="guessInput">
            <input type="text" class="big-input" placeholder="Input your Guess" id="GuessInput">
            <button type="submit" class="submitGuess" onclick="guessInputHandler()">
              <i class="cap-icon ci-plane-paper submitIcon">Submit</i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--     Drawer's view  -->
  <div id="drawer-view" style="display: none">
    <div class="drawer-view">
      <div class="title">
        <img class="titleImage" src="title.png">
      </div>
      <div id="dv-canvas-controls" style="background-color:transparent">
        <div id="dv-controls-outer-container">
          <div id="dv-controls-inner-container">
            <input id="color-select" type="color">
            <button id="paintbrush-button" class="drawer-button drawer-button-selected center-content"
              onclick="paintbrushButtonClicked()" aria-label="draw">
              <svg class="icon icon-paintbrush">
                <use xlink:href="#icon-paintbrush"></use>
              </svg>
            </button>
            <button id="small-brush" class="drawer-button drawer-button-selected center-content"
              onclick="smallSizeButtonClicked()" aria-label="small brush">
              <svg class="icon icon-size-small">
                <use xlink:href="#size-small"></use>
              </svg>
            </button>
            <button id="medium-brush" class="drawer-button center-content" onclick="mediumSizeButtonClicked()"
              aria-label="medium brush">
              <svg class="icon icon-size-medium">
                <use xlink:href="#size-medium"></use>
              </svg>
            </button>
            <button id="large-brush" class="drawer-button center-content" onclick="largeSizeButtonClicked()"
              aria-label="large brush">
              <svg class="icon icon-size-large">
                <use xlink:href="#size-large"></use>
              </svg>
            </button>
            <button id="fill-button" class="drawer-button center-content" onclick="fillButtonClicked()"
              aria-label="fill">
              <svg class="icon icon-fill">
                <use xlink:href="#icon-fill"></use>
              </svg>
            </button>
            <button id="undo-button" class="drawer-button center-content" aria-label="undo">
              <svg class="icon icon-undo">
                <use xlink:href="#icon-undo"></use>
              </svg>
            </button>
            <button id="clear-button" class="drawer-button center-content" aria-label="clear canvas">
              <svg class="icon icon-clear">
                <use xlink:href="#icon-clear"></use>
              </svg>
            </button>
          </div>
        </div>
      </div>
      <div id="dv-canvas">
        <canvas class="canvas-style" id="canvas-1" width="200" height="400"></canvas>
      </div>
      <div id="dv-info">
        <div>
          <div>Time Remaining:</div>
          <span id="dGameTimeDisplay"></span>
        </div>
        <div class="drawerWordContainer">
          <div id="wordToDraw">
            ERROR
          </div>
        </div>
        <div class="players2-container">
          <b>Current Players</b>
          <table id='players2-table'>
            <tr>
              <th>Player</th>
              <th>Score</th>
            </tr>
            <tbody id='p2body'>

            </tbody>
          </table>
        </div>
      </div>
      <div id="dv-chatbox">
        <div class="chat-box-container">
          <div class="chat-box-wrapper">
            <ul id="chat-box-drawer" class="chat-box"></ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--score board-->
  <div id="scoreboard" style="display: none">
    <div class="score-view">
      <div class="title">
        <img class="titleImage" src="title.png">
      </div>
      <div id="scoreboardCanvas1" class="center-content gv-canvas gv-canvas-left">
        <canvas class="canvas-style" id="scorecanvas-1" width="200" height="400"></canvas>
        <div id="scorenameDrawing1">Doodler 1</div>
      </div>
      <div id="scoreboardCanvas2" class="center-content gv-canvas gv-canvas-right">
        <canvas class="canvas-style" id="scorecanvas-2" width="200" height="400"></canvas>
        <div id="scorenameDrawing2">Doodler 2</div>
      </div>
      <div class="chat-box-sv">
        <div class="scoreboard-container">
          <div class="score-container">
            <ul id="score" class="score-box"></ul>
            <b id='correct-ans'></b>
            <table id='score-table'>
              <tr>
                <th>Rank</th>
                <th>Player</th>
                <th>Points</th>
              </tr>
              <tbody id='tbody'>

              </tbody>
            </table>
            <b id='winner'></b>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>

  <!--initialize socket object so clients can establish connections-->
  <script>
    /** ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Global Variables ~~~~~~~~~~~~~~~~~~~~~~~~~~~  **/
    const socket = io();
    var drawerNumber = 0;

    /** ~~~~~~~~~~~~~~~~~~~~~~~~~~~ HTML Element Definitions ~~~~~~~~~~~~~~~~~~~~~~~~~~~  **/
    // Object containing all possible views
    const allViews = {
      initialScreen: document.getElementById('initial-screen'),
      waitingRoomForHost: document.getElementById('waiting-room-host'),
      waitingRoomForPlayer: document.getElementById('waiting-room-player'),
      howToPlayScreen: document.getElementById('how-to-play-screen'),
      example: document.getElementById('example'),
      guesserView: document.getElementById('guesser-view'),
      drawerView: document.getElementById('drawer-view'),
      scoreboard: document.getElementById('scoreboard')
    };

    // Initial screen room input
    const roomInput = document.getElementById('roomIdInput');
    // Initial screen name input
    const nameInput = document.getElementById('nameInput');

    // Game code display and copy button from host waiting room
    const gameCodeDisplay = document.getElementById('gameCodeDisplay');
    const copyRoomCodeButton = document.getElementById('copy-room-code');
    // Lobby number display from player waiting room
    const displayRoom = document.getElementById('displayRoom');
    // Game rule inputs from host waiting room
    const roundInput = document.getElementById('RoundInput');
    const roundTimer = document.getElementById('RoundTimerInput');
    // Player join notification divs from waiting rooms
    const playerJoinNotifications = getElementsById('playerJoin playerJoin2');

    const spaces = document.getElementById('spacesDisplay');
    // Chat boxes from guesser and drawer views
    const chatBoxes = document.getElementsByClassName('chat-box');
    // Game time displays from guesser and drawer views
    const gameTimeDisplays = getElementsById('gameTimeDisplay dGameTimeDisplay');
    // Chat input box from guesser view
    const guessInputBox = document.getElementById('GuessInput');
    // Canvas username tags from drawer view
    const nameDrawing1 = document.getElementById('nameDrawing1');
    const nameDrawing2 = document.getElementById('nameDrawing2');
    // Word to draw div from drawer view
    const wordToDraw = document.getElementById('wordToDraw');
    //buttons for controlling drawer view draw mode
    const paintbrushButton = document.getElementById('paintbrush-button');
    const fillButton = document.getElementById('fill-button');
    //buttons for controlling drawer view paintbrush size
    const smallSizeButton = document.getElementById('small-brush');
    const mediumSizeButton = document.getElementById('medium-brush');
    const largeSizeButton = document.getElementById('large-brush');

    //ul which stores scoreboard information
    const scores = document.getElementById('score');
    const scoreBoard = document.getElementById('score-box');
    const correctAns = document.getElementById('correct-ans');
    const scoreTable = document.getElementById('score-table');
    const winner = document.getElementById('winner');
    const tableBody = document.getElementById('tbody');
    const playerBody = document.getElementById('pbody');
    const playerTable = document.getElementById('players-table');
    const playerBody2 = document.getElementById('p2body')


    /** ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Utility Functions ~~~~~~~~~~~~~~~~~~~~~~~~~~~ **/
    /**
    * Returns whether a given HTML element is scrolled to within 10px of the bottom
    */
    const isScrolledNearBottom = el =>
      el.scrollTop + 10 >= el.scrollHeight - el.clientHeight;

    /**
    * Scrolls given HTML element to the bottom
    */
    const scrollToBottom = el =>
      el.scrollTop = el.scrollHeight - el.clientHeight;

    /**
    * This function enables us to get multiple elements by id and treat them like one
    * Particularly helpful in updating identical things in the drawer and guesser view
    * use like this:
    * const gameTimeDisplay = getElementsById('gameTimeDisplay dGameTimeDisplay');
    * (without this function we'd have to have 2 different assignments like this:
    * const gameCodeDisplay = document.getElementById('gameCodeDisplay'); //
    */
    function getElementsById(ids) {
      const idList = ids.split(' ');
      let results = [], item;
      for (let i = 0; i < idList.length; i++) {
        item = document.getElementById(idList[i]);
        if (item) {
          results.push(item);
        }
      }
      return (results);
    }

    /**
    * Posts a message to all chatboxes, and scrolls them if they are already scrolled
    * all the way down.
    */
    function postChatMessage(msg, username = null) {
      const elementsToScroll = [];
      for (chatBox of chatBoxes) {
        if (isScrolledNearBottom(chatBox)) elementsToScroll.push(chatBox);
      }

      for (chatBox of chatBoxes) {
        const msgLi = document.createElement('li');

        if (username) {
          const usernameB = document.createElement('b');
          usernameB.innerText = username + ": ";
          msgLi.appendChild(usernameB);
        }

        const msgSpan = document.createElement('span');
        msgSpan.innerText = msg;
        msgLi.appendChild(msgSpan);

        chatBox.appendChild(msgLi);
      }

      for (el of elementsToScroll) {
        scrollToBottom(el);
      }
    }

    /**
    * Switches between the different views
    *
    * Pass in the ID of the view to make it display, and all other views
    * will not display.
    */
    function switchToView(newViewName) {
      for (let [viewName, view] of Object.entries(allViews)) {
        if (viewName === newViewName) {
          view.style.display = 'block';
        } else {
          view.style.display = 'none';
        }
      }

      // Specialized view behaviors
      switch (newViewName) {
        case "guesserView":
          for (chatBox of chatBoxes) scrollToBottom(chatBox);
          break;
        case "drawerView":
          for (chatBox of chatBoxes) scrollToBottom(chatBox);
          updateCursor();
          break;
      }
    }

    /**
    * Gets the usernames of the two drawers for the current round
    * Takes as input the scores object defined in notes.js
    */
    function getDrawerNames(scores) {
      let drawer1 = 'Drawer 1';
      let drawer2 = 'Drawer 2';
      for (let data of Object.values(scores)) {
        if (data.drawer === 1) {
          drawer1 = data.username;
        } else if (data.drawer === 2) {
          drawer2 = data.username;
        }
      }
      return [drawer1, drawer2];
    }

    /**
    * Resets the values of certain inputs, and sets the view to the initial screen
    */
    function reset() {
      roomInput.value = '';
      gameCodeDisplay.value = '';
      switchToView('initialScreen');
    }


    /** ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Event Handlers ~~~~~~~~~~~~~~~~~~~~~~~~~~~ **/
    /**
     * Somewhat jank way of implementing a "Leave Lobby" button
     * Given that refreshing the browser removes one from the lobby, and we don't have a way to do so without forcing a disconnect
     * This forces a disconnect and brings them back to the main page, effectively working like a "Leave Lobby" option
     */

    function backHome() {
      location.reload()
    }

    /**
    * onclick function for lobby code copy button
    */
    function copyLobbyId() {
      gameCodeDisplay.select();
      gameCodeDisplay.setSelectionRange(0, 99999); //Mobile devices

      document.execCommand('copy');

      copyRoomCodeButton.innerText = 'Copied!';
    }

    /**
    * onclick function for guess input pencil icon
    * onkeyup(enter) for the guess input
    */
    function guessInputHandler() {
      if (guessInputBox.value !== '') socket.emit('playerGuess', guessInputBox.value);
      guessInputBox.value = '';
    }

    guessInputBox.onkeyup = ({ keyCode }) => {
      if (keyCode === 13) guessInputHandler();
    }

    /**
    * onclick function for create lobby button
    */
    function createButtonClicked() {
      socket.emit('createClicked', nameInput.value);
    }

    /**
    * onclick function for join lobby button
    * onkeyup(enter) for lobby code input
    */
    function joinButtonClicked() {
      switchToView('waitingRoomForPlayer');
      console.debug(`Attempting to join lobby ${roomInput.value} with username ${nameInput.value}`);
      socket.emit('joinClicked', roomInput.value, nameInput.value);
    }

    roomInput.onkeyup = ({ keyCode }) => {
      if (keyCode === 13) joinButtonClicked();
    }

    /**
     * onclick function for how to play text/button
     */
    function howToPlayClicked() {
      switchToView('howToPlayScreen');
    }
    /**
    * onclick function for start game button
    */
    function startGameButtonClicked() {
      socket.emit('startGame', 8, roundInput.value, roundTimer.value);
    }

    function paintbrushButtonClicked() {
      setDrawMode(0);
      paintbrushButton.classList.add("drawer-button-selected");
      fillButton.classList.remove("drawer-button-selected");
    }
    function fillButtonClicked() {
      setDrawMode(1);
      fillButton.classList.add("drawer-button-selected");
      paintbrushButton.classList.remove("drawer-button-selected");
    }

    function smallSizeButtonClicked() {
      setBrushSize(3);
      smallSizeButton.classList.add("drawer-button-selected");
      mediumSizeButton.classList.remove("drawer-button-selected");
      largeSizeButton.classList.remove("drawer-button-selected");
    }
    function mediumSizeButtonClicked() {
      setBrushSize(7);
      smallSizeButton.classList.remove("drawer-button-selected");
      mediumSizeButton.classList.add("drawer-button-selected");
      largeSizeButton.classList.remove("drawer-button-selected");
    }
    function largeSizeButtonClicked() {
      setBrushSize(15);
      smallSizeButton.classList.remove("drawer-button-selected");
      mediumSizeButton.classList.remove("drawer-button-selected");
      largeSizeButton.classList.add("drawer-button-selected");
    }


    /** ~~~~~~~~~~~~~~~~~~~~~~~~~~~ SocketIO Events ~~~~~~~~~~~~~~~~~~~~~~~~~~~ **/
    socket.on('connect', function () {
      switchToView('initialScreen');
    });

    socket.on('succesfullyCreatedLobby', function (lobbyId) {
      console.debug('succesfullyCreatedLobby', { lobbyId });
      switchToView('waitingRoomForHost');
      // Front end change ???
      gameCodeDisplay.value = lobbyId.substring(5, lobbyId.length + 1);;
    });

    socket.on('endRoundScores', function (scoresObj, ans) {

      console.log(scoresObj)
      switchToView('scoreboard');
      // If we want to add an additional word display to scoreboard we can do this
      // document.getElementById('wordDisplay').innerText = ans;

      // clears canvases before updated version
      gctx1.clearRect(0, 0, guesscanvas1.width, guesscanvas1.height);
      gctx2.clearRect(0, 0, guesscanvas2.width, guesscanvas2.height);
      sctx1.clearRect(0, 0, scorecanvas1.width, scorecanvas1.height);
      sctx2.clearRect(0, 0, scorecanvas2.width, scorecanvas2.height);


      // if you are a drawer, you are re-emitting canvas data
      if (drawerNumber != 0) {
        socket.emit('scoreBoardCanvas', drawingEvents, drawerNumber);
      }

      correctAns.innerText = 'The correct answer is: ' + ans;
      //myScoreList.sort(function (a,b) {return a.score - b.score} )

      ranklist = [];
      for (let player in scoresObj) {
        let playerObj = scoresObj[player];
        ranklist.push(playerObj);
      }

      ranklist.sort(function (a, b) {
        return b.score - a.score
      });

      console.log(ranklist);
      console.log('ranklist: ' + ranklist.sort(function (a, b) {
        return b.score - a.score
      })[0].score);
      tableBody.innerHTML = '';
      for (var i = 0; i < ranklist.length; i++) {
        const addCell = document.createElement('tr');
        tableBody.appendChild(addCell);

        const rank = document.createElement('td');
        rank.innerText = (i + 1);
        const playerUsername = document.createElement('td');
        playerUsername.innerText = ranklist[i].username;
        const points = document.createElement('tr');
        points.innerText = ranklist[i].score + '(+' + ranklist[i].gained + ' points)';

        addCell.appendChild(rank);
        addCell.appendChild(playerUsername);
        addCell.appendChild(points);
      }

      console.debug('endRoundScores', { scoresObj });
    });


    socket.on('scoreBoardCanvas', function (drawingEvents, drawNum) {
      if (drawNum == 1) {
        for (let i = 0; i < drawingEvents.length; i++) {
          handleDrawingEvent(drawingEvents[i], sctx1);
        }
      } else if (drawNum == 2) {
        for (let i = 0; i < drawingEvents.length; i++) {
          handleDrawingEvent(drawingEvents[i], sctx2);
        }
      }
    });

    socket.on('errorRoomId', function () {
      console.debug('errorRoomId');
      reset();
      alert('Unknown game code');
    });

    socket.on('tooManyPlayers', function () {
      console.debug('tooManyPlayers');
      reset();
      alert('Room full');
    });

    socket.on('tooFewPlayers', function () {
      console.debug('tooFewPlayers');
      //reset();
      alert('We recommend a minimum of four players to play this game');
    });

    socket.on('drawerView', function (scores, data) {
      console.debug('drawerView', { scores, data });
      drawerNumber = data.drawer;
      switchToView('drawerView');

      drawingEvents = []
      ctx1.clearRect(0, 0, canvas1.width, canvas1.height);
      wordToDraw.innerText = "Word to draw: " + "'" + data.word + "'";
      playerBody2.innerHTML = '';

      playerList = [];
      for (let player in scores) {
        let playerObj = scores[player];
        playerList.push(playerObj);
      }
      console.log(playerList);

      for (var i = 0; i < playerList.length; i++) {
        const addCell = document.createElement('tr');
        playerBody2.appendChild(addCell);

        const player = document.createElement('td');
        player.innerText = playerList[i].username;
        const score = document.createElement('td');
        score.innerText = playerList[i].score;
        score.setAttribute("id", playerList[i].username + '2');

        addCell.appendChild(player);
        addCell.appendChild(score);
      }
    });

    socket.on('guesserView', function (scores, data) {
      console.debug('guesserView', { scores, data });
      switchToView('guesserView');

      gctx1.clearRect(0, 0, guesscanvas1.width, guesscanvas1.height);
      gctx2.clearRect(0, 0, guesscanvas2.width, guesscanvas2.height);
      let spacesLength = data.word1Length + data.word2Length;
      let spacesDisplay = ' __'.repeat(spacesLength).slice(1); //slice(1) cuts off the leading space
      console.log(spacesDisplay);
      spaces.innerText = spacesDisplay;
      let drawerNames = getDrawerNames(scores);
      drawerNumber = 0;

      nameDrawing1.innerText = 'Doodler: ' + drawerNames[0];
      nameDrawing2.innerText = 'Doodler: ' + drawerNames[1];
      playerBody.innerHTML = '';

      playerList = [];
      for (let player in scores) {
        let playerObj = scores[player];
        playerList.push(playerObj);
      }
      console.log(playerList);

      for (var i = 0; i < playerList.length; i++) {
        const addCell = document.createElement('tr');
        playerBody.appendChild(addCell);

        const player = document.createElement('td');
        player.innerText = playerList[i].username;
        player.setAttribute('id', playerList[i].username)
        const score = document.createElement('td');
        score.innerText = playerList[i].score;
        score.setAttribute("id", playerList[i].username + 'score');

        addCell.appendChild(player);
        addCell.appendChild(score);
      }
    });

    socket.on('timerUpdate', function (timeLeft) {
      console.debug('timerUpdate', timeLeft);
      for (let timerElement of gameTimeDisplays) {
        timerElement.innerText = timeLeft + ' seconds';
      }
    });

    socket.on('gameOverEvent', function (scoresObj, ans) {
      switchToView('scoreboard');
      // maybe we don't need this?

      gctx1.clearRect(0, 0, guesscanvas1.width, guesscanvas1.height);
      gctx2.clearRect(0, 0, guesscanvas2.width, guesscanvas2.height);
      sctx1.clearRect(0, 0, scorecanvas1.width, scorecanvas1.height);
      sctx2.clearRect(0, 0, scorecanvas2.width, scorecanvas2.height);

      // if you are a drawer, you are re-emitting canvas data
      if (drawerNumber != 0) {
        socket.emit('scoreBoardCanvas', drawingEvents, drawerNumber);
      }

      // document.getElementById('wordDisplay').innerText = ans;
      correctAns.innerText = 'The correct answer is: ' + "'" + ans + "'";
      //myScoreList.sort(function (a,b) {return a.score - b.score} )

      ranklist = [];
      for (var player in scoresObj) {
        var playerObj = scoresObj[player];
        ranklist.push(playerObj);
      }

      ranklist.sort(function (a, b) {
        return b.score - a.score
      });

      console.log(ranklist);
      console.log('ranklist: ' + ranklist.sort(function (a, b) {
        return b.score - a.score
      })[0].score);
      tableBody.innerHTML = '';
      for (var i = 0; i < ranklist.length; i++) {
        const addCell = document.createElement('tr');
        tableBody.appendChild(addCell);

        const rank = document.createElement('td');
        rank.innerText = (i + 1);
        const playerUsername = document.createElement('td');
        playerUsername.innerText = ranklist[i].username;
        const points = document.createElement('tr');
        points.innerText = ranklist[i].score + '(+' + ranklist[i].gained + ' points)';

        addCell.appendChild(rank);
        addCell.appendChild(playerUsername);
        addCell.appendChild(points);
      }
      winner.innerText = 'THE WINNER IS ' + ranklist[0].username + '!!!'
      console.debug('gameOverEvent', { scoresObj });
    });

    //sent to the specific user when they guess right

    socket.on('correctGuess', function (word, gameState, username) {
      console.debug('correctGuess');
      spaces.innerText = word; // reveal the word

      postChatMessage('You guessed it!');
      playerList = [];
      for (let player in gameState) {
        let playerObj = gameState[player];
        playerList.push(playerObj);
      }
      for (var i = 0; i < playerList.length; i++) {
        if (playerList[i].username === username) {
          console.log('correctGuess');
          document.getElementById(username + 'score').innerText = playerList[i].score;
          //document.getElementById(username+'2').innerText = playerList[i].score;

        }
      }
    });

    socket.on('someoneGuessed', function (gameState, socketId, username) {
      console.debug('someoneGuessed', { gameState, socketId, username });
      postChatMessage(username + '  has correctly guessed the compound word!');
      playerList = [];
      for (let player in gameState) {
        let playerObj = gameState[player];
        playerList.push(playerObj);
      }
      for (var i = 0; i < playerList.length; i++) {
        if (playerList[i].username === username) {
          console.log('someoneGuessed');
          document.getElementById(username + 'score').innerText = playerList[i].score;
          //document.getElementById(username+'2').innerText = playerList[i].score;
        }
      }
    });

    socket.on('broadcastClose', function (username) {
      postChatMessage(username + '  has a close guess!');
    })

    socket.on('updateScore', function (gameState, username) {
      playerList = [];
      for (let player in gameState) {
        let playerObj = gameState[player];
        playerList.push(playerObj);
      }

      for (var i = 0; i < playerList.length; i++) {
        if (playerList[i].username === username) {
          console.log('someoneGuessed');
          document.getElementById(username + '2').innerText = playerList[i].score;
        }
      }
    });

    socket.on('updateScore2', function (gameState, username) {
      playerList = [];
      for (let player in gameState) {
        let playerObj = gameState[player];
        playerList.push(playerObj);
      }

      for (var i = 0; i < playerList.length; i++) {
        if (playerList[i].username === username) {
          console.log('someoneGuessed');
          document.getElementById(username + '2').innerText = playerList[i].score;
        }
      }
    });

    socket.on('updateScore2', function (gameState, username) {
      playerList = [];
      for (let player in gameState) {
        let playerObj = gameState[player];
        playerList.push(playerObj);
      }

      for (var i = 0; i < playerList.length; i++) {
        if (playerList[i].username === username) {
          console.log('someoneGuessed');
          document.getElementById(username + 'score').innerText = playerList[i].score;
        }
      }
    });

    socket.on('closeGuess', function () {
      console.debug('closeGuess');
      postChatMessage('Your guess was close...');
    });

    socket.on('wrongGuess', function (playerGuess, socketId, username) {
      console.debug('wrongGuess', { playerGuess, socketId });
      postChatMessage(playerGuess, username);
    });

    socket.on('broadcastJoined', function (users) {

      for (el of playerJoinNotifications) {
        el.innerHTML = ''

        for (var i = 0; i < Object.values(users).length; i++) {
          el.appendChild(document.createElement('br'));
          if (i == 0) {
            el.appendChild(document.createTextNode('[HOST] ' + Object.values(users)[i]));
          }
          else {
            el.appendChild(document.createTextNode(Object.values(users)[i]));
          }
        }
      }
      console.log(Object.values(users));
    });

    socket.on('playerDisconnect', function (username) {
      postChatMessage(username + ' has disconnected');
    });

    socket.on('broadcastLeft', function (users) {

      for (el of playerJoinNotifications) {
        el.innerHTML = ''

        for (var i = 0; i < Object.values(users).length; i++) {
          el.appendChild(document.createElement('br'));
          if (i == 0) {
            el.appendChild(document.createTextNode('[HOST] ' + Object.values(users)[i]));
          }
          else {
            el.appendChild(document.createTextNode(Object.values(users)[i]));
          }
        }
      }
      console.log(Object.values(users));
    });

    socket.on('waitingRoomForPlayer', function (roomId, users) {
      console.debug('waitingRoomForPlayer', { roomId });
      switchToView('waitingRoomForPlayer');
      displayRoom.innerText += roomId.substring(5, roomId.length + 1);

      for (var i = 0; i < Object.values(users).length; i++) {
        for (el of playerJoinNotifications) {
          el.appendChild(document.createElement('br'));
          el.appendChild(document.createTextNode(Object.values(users)[i] + '  has joined! \n'));
        }
      }
      console.log(Object.values(users));
    });

    socket.on('drawingUpdate', function (drawingEvent, drawNum) {
      // console.log(' drawingUpdate', drawingEvent);
      if (drawNum == 1) {
        handleDrawingEvent(drawingEvent, gctx1);
      } else if (drawNum == 2) {
        handleDrawingEvent(drawingEvent, gctx2);
      }

    });
    socket.on('undoEvent', function (drawingEvents, drawNum) {
      //console.log(' drawingUpdate Client');
      if (drawNum == 1) {
        gctx1.clearRect(0, 0, guesscanvas1.width, guesscanvas1.height);
        gctx1.beginPath();
        for (let i = 0; i < drawingEvents.length; i++) {
          handleDrawingEvent(drawingEvents[i], gctx1);
        }
        gctx1.stroke();
      } else if (drawNum == 2) {
        gctx2.clearRect(0, 0, guesscanvas2.width, guesscanvas2.height);
        gctx2.beginPath();
        for (let i = 0; i < drawingEvents.length; i++) {
          handleDrawingEvent(drawingEvents[i], gctx2);
        }
        gctx2.stroke();
      }

    });

    socket.on('clearEvent', function (drawingEvents, drawNum) {
      //console.log(' drawingUpdate Client');
      if (drawNum == 1) {
        gctx1.clearRect(0, 0, guesscanvas1.width, guesscanvas1.height);
      } else if (drawNum == 2) {
        gctx2.clearRect(0, 0, guesscanvas2.width, guesscanvas2.height);
      }

    });
  </script>

</body>

</html>